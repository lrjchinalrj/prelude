.background-color (@bgColor) when not (@bgColor = inherit) {
    background-color: @bgColor;
}

.prelude-panels (@use) when (@use = true) {
    .panel {
        border: 1px solid @panel-borderColor;
        .rhythm-margin-bottom(1);
        
        .background-color(@panel-bgColor);
        .border-radius (@panel-borderRadius);

        > *:last-child,
        > *:last-child > *:last-child,
        > *:last-child > *:last-child > *:last-child {
            margin-bottom: 0;
        }

        &-header {
            .padding-em(@panel-header-padding);
            background-color: @panel-header-bgColor;
            border-bottom: 1px solid @panel-borderColor;
            .border-top-radius (@panel-borderRadius);
            .hook-panel-header;
        }

        &-title {
            margin: 0;
            color: @panel-title-color;
            .font-size(@panel-title-fontSize);
            .hook-panel-title;
        }

        &-body {
            .padding-em(@panel-body-padding);
            color: @panel-body-color;
            .hook-panel-body;
        }

        &-footer {
            .padding-em(@panel-footer-padding);
            color: @panel-footer-color;
            background-color: @panel-header-bgColor;
            border-top: 1px solid @panel-borderColor;
            .border-bottom-radius (@panel-borderRadius);
            .hook-panel-footer;
        }
    }    

    // Hook
    // ==========================================================================
    .hook-panel-misc;
}

.prelude-panels (@use-panels);